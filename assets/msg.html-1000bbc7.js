import{_ as a,r as e,o as d,c as o,a as t,b as s,d as p,w as r,e as l}from"./app-a93bcaa0.js";const c={},u=t("h1",{id:"通知消息",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#通知消息","aria-hidden":"true"},"#"),s(" 通知消息")],-1),i=t("h2",{id:"获取未读消息数",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#获取未读消息数","aria-hidden":"true"},"#"),s(" 获取未读消息数")],-1),m=t("blockquote",null,[t("p",null,"https://api.bilibili.com/x/msgfeed/unread https://api.vc.bilibili.com/x/im/web/msgfeed/unread (新接口)")],-1),k=t("p",null,[t("em",null,"请求方式：GET")],-1),b=t("p",null,"认证方式：Cookie（SESSDATA）",-1),h=l(`<p><strong>URL参数:</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>build</td><td>num</td><td>客户端内部版本号</td><td>非必要</td><td>默认为 <code>0</code></td></tr><tr><td>mobi_app</td><td>str</td><td>平台标识</td><td>非必要</td><td>可为 <code>web</code> 等</td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>-101：账号未登录</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>默认为0</td></tr><tr><td>ttl</td><td>num</td><td>1</td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>at</td><td>num</td><td>未读at数</td><td></td></tr><tr><td>chat</td><td>num</td><td>0</td><td>仅旧接口，<strong>作用尚不明确</strong></td></tr><tr><td>coin</td><td>num</td><td>未读投币数</td><td></td></tr><tr><td>danmu</td><td>num</td><td>未读弹幕数</td><td></td></tr><tr><td>favorite</td><td>num</td><td>未读收藏数</td><td></td></tr><tr><td>like</td><td>num</td><td>未读点赞数</td><td></td></tr><tr><td>recv_like</td><td>num</td><td>未读点赞数</td><td>同 <code>like</code></td></tr><tr><td>recv_reply</td><td>num</td><td>未读回复数</td><td>同 <code>reply</code></td></tr><tr><td>reply</td><td>num</td><td>未读回复数</td><td></td></tr><tr><td>sys_msg</td><td>num</td><td>未读系统通知数</td><td></td></tr><tr><td>sys_msg_style</td><td>num</td><td>1</td><td>仅新接口, <strong>作用尚不明确</strong></td></tr><tr><td>up</td><td>num</td><td>未读UP主助手信息数</td><td></td></tr></tbody></table><p><strong>示例：</strong></p><p>以下信息代表了未读点赞数为10，未读回复数为4，未读at消息数为3，未读系统通知数为2，未读UP主助手信息数为1</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.vc.bilibili.com/x/im/web/msgfeed/unread&#39;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;at&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
		<span class="token property">&quot;chat&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;coin&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;danmu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;favorite&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;like&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
		<span class="token property">&quot;recv_like&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
		<span class="token property">&quot;recv_reply&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
		<span class="token property">&quot;reply&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
		<span class="token property">&quot;sys_msg&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
		<span class="token property">&quot;sys_msg_style&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token property">&quot;up&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,11);function v(_,q){const n=e("RouterLink");return d(),o("div",null,[u,i,m,k,b,t("p",null,[s("本接口不会返回未读的私信数，要获取未读的私信数请参阅"),p(n,{to:"/docs/message/private_msg.html#%E6%9C%AA%E8%AF%BB%E7%A7%81%E4%BF%A1%E6%95%B0"},{default:r(()=>[s("未读私信数")]),_:1}),s("相关说明")]),h])}const g=a(c,[["render",v],["__file","msg.html.vue"]]);export{g as default};
